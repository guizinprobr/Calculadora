#include <stdio.h>
#include <stdlib.h>

int main() {
    int op;
	float n1, n2;
    char resposta;

    do {
        system("cls"); // limpa a tela
        printf("===============================\n");
        printf("Calculadora Simples\n");
        printf("===============================\n");
        printf("Selecione uma opcao apenas numeros:\n");
        printf("[1] Soma\n[2] Subtracao\n[3] Multiplicacao\n[4] Divisao\n[5] Sair\n");
        fflush(stdin);
        scanf("%d", &op);
		
        switch(op) {
            case 1:
                printf("Digite o primeiro numero: ");
                scanf("%f", &n1);
                printf("Digite o segundo numero: ");
                scanf("%f", &n2);
                printf("Resultado: %f + %f = %f\n", n1, n2, n1 + n2);
                break;

            case 2:
                printf("Digite o primeiro numero: ");
                scanf("%f", &n1);
                printf("Digite o segundo numero: ");
                scanf("%f", &n2);
                printf("Resultado: %f - %f = %f\n", n1, n2, n1 - n2);
                break;

            case 3:
                printf("Digite o primeiro numero: ");
                scanf("%f", &n1);
                printf("Digite o segundo numero: ");
                scanf("%f", &n2);
                printf("Resultado: %f * %f = %f\n", n1, n2, n1 * n2);
                break;

            case 4:
                printf("Digite o primeiro numero: ");
                scanf("%f", &n1);
                printf("Digite o segundo numero: ");
                scanf("%f", &n2);
                if (n2 == 0) {
                    printf("Erro: divisão por zero não permitida.\n");
                } else {
                    printf("Resultado: %f / %f = %f\n", n1, n2, n1 / n2);
                }
                break;

            case 5:
                printf("Obrigado por usar a calculadora!\n");
                return 0;

            default:
                printf("Opcao invalida. Tente novamente.\n");
                continue; // pula direto pra próxima iteração do loop
        }

        // Loop de validação da resposta
        do {
            printf("\nDeseja fazer outra operacao? (s/n): ");
            scanf(" %c", &resposta);
            if (resposta != 's' && resposta != 'S' && resposta != 'n' && resposta != 'N') {
                printf("Resposta inválida. Digite apenas 's' para sim ou 'n' para não.\n");
            }
        } while (resposta != 's' && resposta != 'S' && resposta != 'n' && resposta != 'N');

    } while (resposta == 's' || resposta == 'S');

    printf("Programa encerrado. Ate logo!\n");
    return 0;
}
